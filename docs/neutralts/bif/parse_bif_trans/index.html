<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="{:trans; … :}"><title>neutralts::bif::parse_bif_trans - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="neutralts" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.1 (e71f9a9a9 2025-01-27)" data-channel="1.84.1" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../neutralts/index.html">neutralts</a><span class="version">1.3.0-beta3</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module parse_<wbr>bif_<wbr>trans</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#trans--" title="{:trans; … :}">{:trans; … :}</a><ul><li><a href="#modifiers" title="Modifiers">Modifiers</a></li><li><a href="#no-flags" title="No flags">No flags</a></li><li><a href="#references" title="References">References</a></li><li><a href="#non-text-translation" title="Non-text translation">Non-text translation</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In neutralts::<wbr>bif</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">neutralts</a>::<wbr><a href="../index.html">bif</a></span><h1>Module <span>parse_bif_trans</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/neutralts/bif/parse_bif_trans.rs.html#1-38">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="trans--"><a class="doc-anchor" href="#trans--">§</a>{:trans; … :}</h2>
<p>Translate a string.</p>
<div class="example-wrap"><pre class="language-html"><code>{:trans; String to translate :}</code></pre></div><h3 id="modifiers"><a class="doc-anchor" href="#modifiers">§</a>Modifiers</h3><div class="example-wrap"><pre class="language-html"><code>{:^trans; ... :}
{:!trans; ... :}
{:^!trans; ... :}</code></pre></div><h4 id="modifier--upline"><a class="doc-anchor" href="#modifier--upline">§</a>Modifier: ^ (upline)</h4>
<p>Eliminates previous whitespaces</p>
<p>Assuming that the translation of Hello is Hello:</p>
<div class="example-wrap"><pre class="language-texplain"><code>&lt;div&gt;&lt;/div&gt;

{:trans; Hello :}

&lt;div&gt;&lt;/div&gt;

{:^trans; Hello :}</code></pre></div>
<p>Output:</p>
<div class="example-wrap"><pre class="language-texplain"><code>&lt;div&gt;&lt;/div&gt;

Hello

&lt;div&gt;&lt;/div&gt;Hello</code></pre></div><h4 id="modifier--not"><a class="doc-anchor" href="#modifier--not">§</a>Modifier: ! (not)</h4>
<p>By default the same string is output if there is no translation, to output an empty string use the modifier “not”. Assuming there is no translation for “Hello”.</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;div&gt;{:trans; Hello :}&lt;/div&gt;
&lt;div&gt;{:!trans; Hello :}&lt;/div&gt;
&lt;div&gt;{:!trans; Hello :}{:else;
    There is no translation for &quot;Hello&quot;.
:}&lt;/div&gt;</code></pre></div>
<p>Output:</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;div&gt;Hello&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;There is no translation for &quot;Hello&quot;.&lt;/div&gt;</code></pre></div><h3 id="no-flags"><a class="doc-anchor" href="#no-flags">§</a>No flags</h3><h3 id="references"><a class="doc-anchor" href="#references">§</a>References</h3>
<p>An APP can be created thinking that in the future it can be translated, we use in all the “trans” outputs;</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;ul&gt;
    &lt;li&gt;{:trans; File :}&lt;/li&gt;
    &lt;li&gt;{:trans; Edit :}&lt;/li&gt;
&lt;/ul&gt;</code></pre></div>
<p>Simply add the translation without modifying the code.</p>
<p>We can also add a translation from the beginning and use the same or another strategy as references:</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;ul&gt;
    &lt;li&gt;{:trans; ref:menu:file :}&lt;/li&gt;
    &lt;li&gt;{:trans; ref:menu:edit :}&lt;/li&gt;
&lt;/ul&gt;

&lt;ul&gt;
    &lt;li&gt;{:trans; code:1002 :}&lt;/li&gt;
    &lt;li&gt;{:trans; code:1003 :}&lt;/li&gt;
&lt;/ul&gt;</code></pre></div>
<p>In this case it will be necessary to make sure that all references have a translation, or use “not” and “else”:</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;li&gt;{:!trans; ref:menu:edit :}{:else; Edit :}&lt;/li&gt;</code></pre></div>
<p>The “schema” takes care of the translation by means of the “locale” key of the scheme, the current language is defined with the “current” key:</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;inherit&quot;: {
        &quot;locale&quot;: {
            &quot;current&quot;: &quot;en&quot;
            &quot;trans&quot;: {
                &quot;en&quot;: {
                    &quot;Hello&quot;: &quot;Hello&quot;,
                    &quot;ref:greeting&quot;: &quot;Hello&quot;
                },
                &quot;es&quot;: {
                    &quot;Hello&quot;: &quot;Hola&quot;,
                    &quot;ref:greeting&quot;: &quot;Hola&quot;
                },
                &quot;de&quot;: {
                    &quot;Hello&quot;: &quot;Hallo&quot;,
                    &quot;ref:greeting&quot;: &quot;Hallo&quot;
                },
                &quot;fr&quot;: {
                    &quot;Hello&quot;: &quot;Bonjour&quot;,
                    &quot;ref:greeting&quot;: &quot;Bonjour&quot;
                }
            }
        }
    }
}</code></pre></div>
<p>For more details see “schema” and “locale” bif.</p>
<h3 id="non-text-translation"><a class="doc-anchor" href="#non-text-translation">§</a>Non-text translation</h3>
<p>The above strategies will work well for translating short text strings, but not for long text or even images.</p>
<p>We can use references to translate images:</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;img src=&quot;/images/cover-{:!trans; ref:lang :}{:else; english :}.jpg&quot; /&gt;</code></pre></div>
<p>For which we will need images with the appropriate file name:</p>
<div class="example-wrap"><pre class="language-html"><code>cover-english.jpg
cover-spanish.jpg
cover-french.jpg</code></pre></div>
<p>With “else” we have set the default image, in case there is no translated image. Alternatively, we can do the following:</p>
<div class="example-wrap"><pre class="language-html"><code>&lt;img src=&quot;/images/cover-{:!trans; ref:lang :}.jpg&quot; /&gt;

cover-.jpg          // This is the default image
cover-english.jpg
cover-spanish.jpg
cover-french.jpg</code></pre></div>
<p>And the corresponding translations in “locale”:</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;locale&quot;: {
        &quot;trans&quot;: {
            &quot;en&quot;: {
                &quot;ref:lang&quot;: &quot;english&quot;
            },
            &quot;en-us&quot;: {
                &quot;ref:lang&quot;: &quot;english&quot;
            },
            &quot;es&quot;: {
                &quot;ref:lang&quot;: &quot;spanish&quot;
            },
            &quot;es-es&quot;: {
                &quot;ref:lang&quot;: &quot;spanish&quot;
            },
            &quot;fr&quot;: {
                &quot;ref:lang&quot;: &quot;french&quot;
            }
        }
    }
}</code></pre></div>
<p>This same system will be useful for translating long texts using the same defined references:</p>
<div class="example-wrap"><pre class="language-html"><code>{:snippet; terms-conditions-{:!trans; ref:lang :}{:else; english :} :}
{:include; terms-conditions-{:!trans; ref:lang :}{:else; english :}.ntpl :}</code></pre></div>
<p>Another strategy for translating images, long text and other content is the use of the “lang” bif which outputs the current language, first we define the snippet needed for each language, which can contain text, images, html, …:</p>
<div class="example-wrap"><pre class="language-html"><code>{:snippet; contents-for-en &gt;&gt;
    ....
:}

{:snippet; contents-for-es &gt;&gt;
    ....
:}

{:snippet; contents-for-fr &gt;&gt;
    ....
:}</code></pre></div>
<p>Then:</p>
<div class="example-wrap"><pre class="language-html"><code>{:snippet; contents-for-{:lang;:} :}{:else;
    {:snippet; contents-for-en :}
:}</code></pre></div>
<p>A snippet that does not exist or is empty is not an error, but “else” detects it.</p>
<hr />
</div></details></section></div></main></body></html>