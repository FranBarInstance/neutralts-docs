<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="{:exit; … :}"><title>neutralts::bif::parse_bif_exit - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="neutralts" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.1 (e71f9a9a9 2025-01-27)" data-channel="1.84.1" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../neutralts/index.html">neutralts</a><span class="version">1.3.0-beta7</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module parse_<wbr>bif_<wbr>exit</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#exit--" title="{:exit; … :}">{:exit; … :}</a><ul><li><a href="#modifiers" title="Modifiers:">Modifiers:</a></li><li><a href="#no-flags" title="No flags">No flags</a></li><li><a href="#some-uses" title="Some uses">Some uses</a></li><li><a href="#redirect" title="Redirect">Redirect</a></li><li><a href="#custom-status-codes" title="Custom status codes">Custom status codes</a></li><li><a href="#manage-in-the-app-native-rust" title="Manage in the app (native Rust)">Manage in the app (native Rust)</a></li><li><a href="#manage-in-the-app-others" title="Manage in the app (others)">Manage in the app (others)</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In neutralts::<wbr>bif</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">neutralts</a>::<wbr><a href="../index.html">bif</a></span><h1>Module <span>parse_bif_exit</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/neutralts/bif/parse_bif_exit.rs.html#1-62">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="exit--"><a class="doc-anchor" href="#exit--">§</a>{:exit; … :}</h2>
<p>Terminate the current template with status code, 200 by default. No output.</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; HTTP-STATUS-CODE :}

{:exit; :}</code></pre></div>
<p>It is important to know that the <strong>status codes must be managed by the application</strong>, this bif is limited to set them and to terminate the template.</p>
<p>In addition, in <strong>status codes 400 to 599, 301, 302, 303, 307 and 308</strong> the rendered <strong>content is removed</strong> and replaced by the status code.</p>
<h3 id="modifiers"><a class="doc-anchor" href="#modifiers">§</a>Modifiers:</h3><div class="example-wrap"><pre class="language-html"><code>{:!exit; ... :}</code></pre></div><h4 id="modifier--not"><a class="doc-anchor" href="#modifier--not">§</a>Modifier: ! (not)</h4>
<p>The “not” modifier prevents termination, continues executing the template and is limited only to setting a status code:</p>
<div class="example-wrap"><pre class="language-html"><code>{:!exit; 202 :}</code></pre></div><h3 id="no-flags"><a class="doc-anchor" href="#no-flags">§</a>No flags</h3><h3 id="some-uses"><a class="doc-anchor" href="#some-uses">§</a>Some uses</h3>
<p>In the following examples, the template is terminated and a status code is set:</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; 401 :}
{:exit; 403 :}
{:exit; 404 :}
{:exit; 503 :}</code></pre></div>
<p>A parameter is set here:</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; 500 &gt;&gt; reason :}</code></pre></div><h3 id="redirect"><a class="doc-anchor" href="#redirect">§</a>Redirect</h3>
<p>With status codes 301, 302, 303, 307 and 308 you can create a redirect by adding the URL to the parameters:</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; 301 &gt;&gt; /page :}
{:exit; 302 &gt;&gt; /page :}
{:exit; 303 &gt;&gt; /page :}
{:exit; 307 &gt;&gt; https://example.com :}
{:exit; 308 &gt;&gt; https://example.com :}</code></pre></div>
<p>The “redirect” bif also performs this task.</p>
<h3 id="custom-status-codes"><a class="doc-anchor" href="#custom-status-codes">§</a>Custom status codes</h3>
<p>Status codes from 100 to 999 are used or could be used in the future by the HTTP protocol, so it is better not to use them, but we could use a larger code to create our custom status codes.</p>
<p>For example, if we want to change the behavior of the 404 error where the content is removed when it is set, the status code “10404” could be used</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; 10404 :}</code></pre></div>
<p>Or:</p>
<div class="example-wrap"><pre class="language-html"><code>{:exit; 10401 &gt;&gt; reason :}</code></pre></div>
<p>And manage it in the application in another way.</p>
<h3 id="manage-in-the-app-native-rust"><a class="doc-anchor" href="#manage-in-the-app-native-rust">§</a>Manage in the app (native Rust)</h3>
<p>If you use the bif “exit” or “redirect” it is necessary to manage the status codes in the application, it will depend on the environment or framework you are using, it could be something like this:</p>
<div class="example-wrap"><pre class="language-text"><code>let template = Template::from_file_value(&quot;file.ntpl&quot;, schema).unwrap();
let content = template.render();

// e.g.: 500
let status_code = template.get_status_code();

// e.g.: Internal Server Error
let status_text = template.get_status_text();

// e.g.: template error x
let status_param = template.get_status_param();

// act accordingly at this point</code></pre></div>
<p>It may be the case that the template contains a syntax error, in which case set the status code 500 and in the parameter the reason, by default the content is blank.</p>
<h3 id="manage-in-the-app-others"><a class="doc-anchor" href="#manage-in-the-app-others">§</a>Manage in the app (others)</h3>
<p>Each programming language can implement it in a different way, see the IPC client of each language.</p>
<p>There will usually be an equivalent function with the same name as those in Rust.</p>
<hr />
</div></details></section></div></main></body></html>